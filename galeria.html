<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="galeria.css">
  <title>Galeria Maria Clara</title>
  <script>
  fetch("ficheiroqualquer.json")
    .then(res => res.json())
    .then(data => {
      console.log(data);
      const imgContainer = document.getElementById("img-container");
      let imgStr = "";
      data.forEach((obj,index) => {
        if (index % 3 == 0) {
          imgStr += '<div class="dream">'
        }
        const img = '<img src="/quadros/' + obj.imgLink + '">';
        imgStr += img;
        if ((index + 1) % 3 === 0 || index === data.length - 1) {
          imgStr += '</div>';
          imgContainer.insertAdjacentHTML("beforeend", imgStr);
          imgStr = ""; // clear imgStr before starting the next iteration
          // adicionar listener a todas as imagens inseridas
          const imgs = imgContainer.querySelectorAll('.dream img');
          imgs.forEach((img, i) => {
            img.addEventListener('click', function () {
              window.location.href = 'Quadros/paginasQuadros/quadro1.html?index=' + i;
            });
          });
        }
      });
    })
  </script>
</head>
<body>
  <div class="hero"> 
    <nav>
      <a href="index.html"><img src="images/C WITHOUT BG.png"></a>
      <ul>
        <li><a href="index.html">HOME</a></li>
        <li><a href="galeria.html">GALERIA</a></li>
        <li><a href="aboutme.html">SOBRE MIM</a></li>
        <li><a href="contact.html">CONTACTO</a></li>
      </ul>
    </nav>
    <div class="container">
      <div class="heading">
        <h3>MARIA <span>CLARA</span></h3>
      </div>
      <div id="img-container" class="box">
      </div>
    </div>
</div>
</body>
</html>